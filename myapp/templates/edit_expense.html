{% extends 'index.html' %}
{% block Content %}

<!-- Page wrapper like index -->
<div class="page container mt-5 pt-4">

  <section class="mt-4">
    <div class="card shadow-sm">
      <div class="card-header bg-white d-flex justify-content-between align-items-center">
        <h5 class="mb-0">Edit Expense</h5>
      </div>

      <div class="card-body">
        <form action="{% url 'edit_expense' %}?expense_id={{ edit_expense_id }}"
              method="post"
              class="row">
          {% csrf_token %}

          <!-- Title -->
          <div class="col-md-6 form-group">
            <label>Title</label>
            <input type="text"
                   name="title"
                   value="{{ edit_expense.title }}"
                   class="form-control"
                   required>
          </div>

          <!-- Date -->
          <div class="col-md-6 form-group">
            <label>Date</label>
            <input type="date"
                   name="date"
                   value="{{ edit_expense.date|date:'Y-m-d' }}"
                   class="form-control"
                   required>
          </div>

          <!-- Amount -->
          <div class="col-md-6 form-group">
            <label>Amount</label>
            <input type="number"
                   name="amount"
                   value="{{ edit_expense.amount }}"
                   class="form-control"
                   required>
          </div>

          <!-- Category -->
          <div class="col-md-6 form-group">
            <label>Category</label>
            <select name="category" class="form-control">
              {% for cat in c_id %}
                <option value="{{ cat.cat_name }}"
                  {% if edit_expense.category == cat.cat_name %}selected{% endif %}>
                  {{ cat.cat_name }}
                </option>
              {% endfor %}
            </select>
          </div>

          <!-- Buttons -->
          <div class="col-12 d-flex justify-content-end mt-4">
            <button type="submit"
                    class="btn btn-primary btn-pill px-4">
              Update Expense
            </button>

            <a href="{% url 'index' %}"
               class="btn btn-outline-primary btn-pill ml-3 px-4">
              Cancel
            </a>
          </div>

        </form>
      </div>
    </div>
  </section>

</div>

{% endblock %}
